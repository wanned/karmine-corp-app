import { useMemo } from 'react';
import Svg, { Path } from 'react-native-svg';

import { SingleNumber } from '../types/single-number';

export interface OutlinedNumberSvgProps {
  size: 'small' | 'large' | { width: number; height: number };
}

interface OutlinedNumberProps extends OutlinedNumberSvgProps {
  children: SingleNumber | `${SingleNumber}`;
}

export const OutlinedNumber = ({ children, size }: OutlinedNumberProps) => {
  const number = Number(children);
  const computedSize = useMemo(
    () =>
      typeof size === 'string' ?
        size === 'small' ? { width: 25, height: 33 }
        : size === 'large' ? { width: 40, height: 50 }
        : size
      : size,
    [size]
  );

  if (Number.isNaN(number)) {
    return null;
  }

  if (computedSize === undefined) {
    return null;
  }

  const svgPath = svgPaths[number];

  if (svgPath === undefined) {
    return null;
  }

  return (
    <Svg width={computedSize.width} height={computedSize.height} viewBox="0 0 25 33" fill="none">
      <Path stroke="#F3F3F3" d={svgPath} />
    </Svg>
  );
};

const svgPaths: Partial<Record<number, string>> = {
  0: 'M12.42 31.72c3.63 0 6.502-1.274 8.448-3.921 1.925-2.62 2.892-6.52 2.892-11.679 0-5.433-.964-9.343-2.896-11.904C18.91 1.626 16.031.5 12.42.5S5.925 1.626 3.966 4.216C2.03 6.776 1.06 10.687 1.06 16.12c0 5.16.972 9.059 2.902 11.68 1.95 2.646 4.829 3.92 8.458 3.92Zm0-6.66c-.732 0-1.285-.132-1.717-.395-.426-.26-.783-.678-1.07-1.339-.588-1.358-.833-3.62-.833-7.206 0-3.597.245-5.863.834-7.224.287-.662.643-1.08 1.07-1.34.43-.264.984-.396 1.716-.396.738 0 1.292.133 1.722.395.424.26.778.677 1.06 1.34.583 1.36.818 3.627.818 7.225 0 3.588-.235 5.85-.817 7.208-.283.661-.636 1.078-1.061 1.337-.43.262-.984.395-1.722.395Z',
  1: 'M1.84 5.58h-.5v7.74h.5c1.823 0 3.584-.737 5.12-1.85v13.61H.74v6.42H20.6v-6.42h-6.04V1.3H7.058l-.086.392c-.266 1.204-1.068 2.175-2.07 2.854C3.896 5.228 2.737 5.58 1.84 5.58Z',
  2: 'M21.66 25.08v6.42H.78v-5.92c0-2.578 1.121-4.523 2.74-6.134 1.51-1.503 3.481-2.742 5.406-3.95l.347-.219.015-.01c1.29-.816 2.393-1.513 3.187-2.363.772-.828 1.245-1.794 1.245-3.164 0-1.062-.23-1.725-.627-2.13-.396-.403-1.056-.65-2.153-.65-1.088 0-1.793.242-2.29.787-.522.571-.897 1.56-1.093 3.25l-.057.492-.492-.052-5.9-.62-.422-.044-.025-.423c-.177-2.942.645-5.347 2.436-7.01C4.88 1.69 7.544.84 10.92.84c2.94 0 5.506.62 7.347 2.053C20.13 4.34 21.18 6.564 21.18 9.6c0 6.338-4.3 9.05-8.124 11.463l-.568.359L12.22 21q-.516.329-.97.611c-2.163 1.357-3.286 2.061-3.683 3.469zm0 0H8.09z',
  3: 'm1.408 22.243-.448.047v.45c0 3.413 1.15 5.766 3.184 7.242 2.003 1.454 4.784 1.998 7.936 1.998 2.98 0 5.747-.631 7.783-2.102 2.06-1.489 3.317-3.8 3.317-7.018 0-2.227-.614-3.868-1.621-5.054-.716-.841-1.608-1.43-2.567-1.838a7.3 7.3 0 0 0 2.214-1.91c.904-1.19 1.474-2.758 1.474-4.778 0-2.65-.953-4.788-2.788-6.251C18.072 1.579 15.447.84 12.18.84c-3.44 0-6.097.741-7.879 2.318-1.796 1.59-2.613 3.948-2.54 6.974l.01.438.435.047 5.7.62.486.053.064-.485c.19-1.452.644-2.398 1.26-2.982.61-.579 1.444-.863 2.524-.863 1.086 0 1.867.287 2.374.766.503.475.806 1.204.806 2.234 0 1.192-.453 2.083-1.323 2.696-.897.632-2.289 1.004-4.217 1.004H8.86v5.66h.98c2.018 0 3.461.223 4.39.737.452.25.775.566.99.96.217.397.34.905.34 1.563 0 .76-.164 1.528-.653 2.1-.476.558-1.337 1.02-2.927 1.02-1.428 0-2.32-.348-2.915-.924-.607-.588-.98-1.486-1.213-2.747l-.084-.455-.46.049z',
  4: 'M19.82 31.5h.5v-6.68h3.18V18.4h-3.18V1.3h-7.708l-.149.224-11.34 17.1-.083.125v6.071h11.94v6.68h6.84Zm-6.84-20.085V18.8H8.399z',
  5: 'M4.04 1.3h-.444l-.052.441-1.88 15.82-.059.49.49.065 5.66.74.276.036.176-.216c.742-.909 1.973-1.896 3.853-1.896 1.195 0 2.093.387 2.702 1.102.62.726.998 1.86.998 3.458 0 1.6-.379 2.674-.988 3.347-.602.664-1.499 1.013-2.712 1.013-1.21 0-2.152-.354-2.813-.957-.66-.602-1.088-1.497-1.189-2.666l-.044-.506-.505.052-6.1.62-.449.045v.452c0 3.321 1.18 5.657 3.17 7.143 1.967 1.468 4.655 2.057 7.59 2.057 3.213 0 6.083-.707 8.157-2.39 2.093-1.695 3.303-4.322 3.303-7.99 0-3.122-.812-5.625-2.425-7.351-1.617-1.732-3.975-2.609-6.915-2.609-1.991 0-3.606.4-4.895 1.042L9.58 7.72h12.28V1.3H4.04Z',
  6: 'm22.452 10.017.47-.05-.023-.472c-.135-2.732-1.065-4.92-2.8-6.416C18.372 1.589 15.916.84 12.84.84c-3.473 0-6.424.964-8.49 3.459C2.302 6.772 1.2 10.66 1.2 16.34c0 6.235 1.2 10.16 3.293 12.524 2.11 2.382 5.032 3.076 8.207 3.076 3.077 0 5.812-.64 7.783-2.261 1.99-1.637 3.117-4.202 3.117-7.859 0-3.117-.78-5.397-2.276-6.894-1.497-1.496-3.627-2.126-6.144-2.126-2.571 0-4.581.694-6.13 1.64.122-2.92.521-4.768 1.136-5.895.333-.61.723-.996 1.159-1.234.439-.24.963-.351 1.595-.351 1.071 0 1.693.325 2.115.834.452.544.728 1.359.956 2.448l.092.442.45-.047zM12.64 25.7c-.54 0-.987-.085-1.365-.267-.373-.179-.707-.467-1-.921-.58-.9-.988-2.436-1.158-4.963 1.179-.802 2.535-1.369 3.963-1.369 1.166 0 1.91.39 2.376.978.482.607.724 1.496.724 2.582 0 1.333-.36 2.314-.95 2.957-.586.638-1.452 1.003-2.59 1.003Z',
  7: 'M1.54 1.3h-.5v6.42h12.38L5.487 30.838l-.227.662h7.596l.117-.337 8.8-25.5.027-.08V1.3H1.54Z',
  8: 'M22.62 8.78c0-2.407-.965-4.415-2.758-5.81C18.083 1.587 15.532.84 12.4.84c-2.711 0-5.258.582-7.142 1.89C3.35 4.052 2.16 6.096 2.16 8.9c0 3.267 1.526 5.528 3.57 7.191-2.482 1.456-4.67 3.765-4.67 7.709 0 2.874 1.21 4.951 3.215 6.288 1.976 1.319 4.683 1.892 7.665 1.892 3.142 0 6.065-.524 8.219-1.863 2.189-1.36 3.541-3.537 3.541-6.697 0-2.236-.649-3.962-1.685-5.34-.852-1.134-1.954-2.015-3.13-2.753 1.986-1.252 3.735-3.245 3.735-6.547ZM12.34 25.7c-1.07 0-2.09-.207-2.828-.685-.708-.458-1.192-1.184-1.192-2.355 0-1.626.913-2.896 2.05-3.852 1.921.919 3.322 1.603 4.261 2.295.958.705 1.35 1.352 1.35 2.197 0 .769-.33 1.34-.92 1.74-.615.416-1.54.66-2.72.66Zm1.218-13.091-.417-.19c-1.036-.472-1.91-.87-2.57-1.34-.756-.54-1.15-1.121-1.15-1.959 0-.718.279-1.23.757-1.579.498-.364 1.256-.581 2.242-.581 1.107 0 1.99.268 2.583.718.578.439.917 1.075.917 1.922 0 .871-.308 1.479-.764 1.95-.425.438-.988.768-1.598 1.059Z',
  9: 'm2.348 22.763-.47.05.023.472c.135 2.732 1.065 4.92 2.8 6.416 1.727 1.49 4.183 2.239 7.259 2.239 3.473 0 6.424-.964 8.49-3.459 2.048-2.473 3.15-6.362 3.15-12.041 0-6.235-1.2-10.16-3.293-12.524C18.197 1.534 15.275.84 12.1.84c-3.077 0-5.812.64-7.783 2.261C2.327 4.738 1.2 7.303 1.2 10.96c0 3.117.78 5.397 2.276 6.893C4.973 19.35 7.103 19.98 9.62 19.98c2.571 0 4.581-.694 6.13-1.64-.122 2.92-.521 4.768-1.136 5.895-.333.61-.723.996-1.159 1.234-.439.24-.963.351-1.595.351-1.071 0-1.693-.325-2.115-.834-.452-.544-.728-1.359-.956-2.448l-.092-.442-.45.047zM11.72 14.6c-1.166 0-1.91-.39-2.376-.978-.482-.607-.724-1.496-.724-2.582 0-1.333.36-2.314.95-2.957.586-.638 1.452-1.003 2.59-1.003.54 0 .987.085 1.365.266.373.18.707.468 1 .922.58.9.987 2.435 1.158 4.963-1.179.802-2.535 1.369-3.963 1.369Z',
};
